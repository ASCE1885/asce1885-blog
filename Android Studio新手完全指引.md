# Android Studio新手完全指引

> @author ASCE1885的 [Github](https://github.com/ASCE1885)  [简书](http://www.jianshu.com/users/4ef984470da8/latest_articles) [微博](http://weibo.com/asce885/profile?rightmod=1&wvr=6&mod=personinfo) [CSDN](http://blog.csdn.net/asce1885)

###Android Studio的下载及安装

如果你的电脑可以翻墙，那么请直接到[Android官网](https://developer.android.com/sdk/index.html)下载，如下图所示：

![](http://img.blog.csdn.net/20150611092832975?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYXNjZTE4ODU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)

如果不幸翻不了墙，没关系，可以到[AndroidDevTools](http://www.androiddevtools.cn/)下载，这个网站基本涵盖了Android开发所需的所有工具，文件放在百度云上面，下载速度杠杠的。

下载并安装完成后，首次启动会去下载更新一系列文件，如果已经翻了墙，就等待其更新完成；如果没有翻墙，就别傻等了，最终等到的只会是提示下载失败。如何解决呢？你可以断开电脑的网络连接，或者找到Android Studio安装目录的bin目录下面的idea.properties文件，添加一条禁用开始运行向导的配置项：

```
disable.android.first.run=true
```

这样再次启动Android Studio就会很快进入欢迎页面：

![](http://img.blog.csdn.net/20150611111105389?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYXNjZTE4ODU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)

点击Configure-Preference进入偏好设置页面，搜索proxy，如下图所示，手动配置代理服务器即可：

![](http://img.blog.csdn.net/20150611103655712?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYXNjZTE4ODU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)

Android SDK在线更新镜像服务器可以在[AndroidDevTools](http://www.androiddevtools.cn/)上面找到：

![](http://img.blog.csdn.net/20150611104500163?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYXNjZTE4ODU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)

返回到欢迎页面，点击Configure-SDK Manager，进入SDK Manager管理页面，接着打开SDK Manager的偏好设置（Preference）页面，这里也要设置代理服务器，并勾选「Force https://... sources to be fetched using http://...」复选框：

![](http://img.blog.csdn.net/20150611105808349?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYXNjZTE4ODU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)

设置完成之后，等待SDK自动下载更新即可。

> 对于从Eclipse迁移到Android Studio的建议：
1）不要使用Android Studio的自动迁移功能将项目从Eclipse自动转换为Android Studio工程结构，建议重新建立一个纯净的Android Studio工程，并手动拷贝src和lib等文件；
2）Android Studio不要复用Eclipse之前使用的SDK，建议使用Android Studio提供的SDK Manager重新下载；
3）一句话：保证Android Studio的纯正性。

###Android NDK的安装及使用

由于并不是每个app都会用到NDK，事实上，大多数app都不需要用到NDK，因此，NDK的安装独立成一节，不感兴趣的筒靴可以跳过，NDK的安装相对简单，只需要到[NDK Downloads](https://developer.android.com/ndk/downloads/index.html)或者[AndroidDevTools](http://www.androiddevtools.cn/)下载NDK的压缩包，然后解压到本地目录中即可。

接着在Android工程根目录的local.properties文件中新增ndk.dir变量，其值指向ndk绝对路径，例如：

```
## This file is automatically generated by Android Studio.
# Do not modify this file -- YOUR CHANGES WILL BE ERASED!
#
# This file should *NOT* be checked into Version Control Systems,
# as it contains information specific to your local configuration.
#
# Location of the SDK. This is only used by Gradle.
# For customization when using a Version Control System, please read the
# header note.
sdk.dir=/Users/guhaoxin/Library/Android/sdk
ndk.dir=/Users/guhaoxin/Library/Android/android-ndk-r10
```

NDK的使用主要有两种形式，一种是拿到第三方的so文件，我们通过JNI封装其提供的native接口给Java层使用另一种是自己使用C／C++编写底层代码，然后编译生成so文件，接着重复第一种的做法。具体实现还是比较麻烦的，篇幅比较大，需要用到的筒靴可以参考以下这几篇文章：

* [NDK with Android Studio](http://www.shaneenishry.com/blog/2014/08/17/ndk-with-android-studio/)
* [Android Studio, gradle and NDK integration](http://ph0b.com/android-studio-gradle-and-ndk-integration/)
* [Share code between projects in Android Studio](http://blog.gaku.net/share-code-between-projects-in-android-studio/)
* [Using custom Android.mk with Gradle/Android Studio](http://blog.gaku.net/ndk/)

等有时间再结合实际项目整理一篇Android Studio＋NDK的入门指引。

###Android Studio的基本用法

Android Studio的基本用法就比较琐碎了，篇幅也比较大，已经有很多文章进行过介绍，这里就不展开讲解了，想了解的可以参考@StormZhang的系列教程，教程中基于Android Studio 1.0 版本进行介绍，跟最新的有些许差别，但并不影响我们学习。

Android Studio系列教程：

* [下载与安装](http://stormzhang.com/devtools/2014/11/25/android-studio-tutorial1/)
* [基本设置与运行](http://stormzhang.com/devtools/2014/11/28/android-studio-tutorial2/)
* [快捷键](http://stormzhang.com/devtools/2014/12/09/android-studio-tutorial3/)
* [Gradle基础](http://stormzhang.com/devtools/2014/12/18/android-studio-tutorial4/)
* [Gradle命令详解与导入第三方包](http://stormzhang.com/devtools/2015/01/05/android-studio-tutorial5/)
* [Gradle多渠道打包](http://stormzhang.com/devtools/2015/01/15/android-studio-tutorial6/)

###Android Gradle Plugin基本用法

看完上面的系列教程，应该对Gradle也有了基本的认识，但还不够，只有认真看完[Gradle Plugin User Guide ](http://chaosleong.gitbooks.io/gradle-for-android/content/index.html)才能基本应付日常的开发工作，如果想进一步进阶，可阅读完整版[Gradle User Guide](https://docs.gradle.org/current/userguide/userguide)。当然，根据王守仁先生的“知行合一”思想，看的再多，不在项目中好好操练，那也是白费力气的。

当然，如果你发现gradle编译速度很慢，可以尝试[Boosting the performance for Gradle in your Android projects](https://medium.com/@erikhellman/boosting-the-performance-for-gradle-in-your-android-projects-6d5f9e4580b6)这篇文章中介绍的方法，兴许对你有用。

###通过Gradle发布项目到JCenter

目前Github上面的大多数Android项目都从Eclipse＋Ant模式迁移到了Android Studio＋Gradle开发模式，为了方便函数库的依赖管理，都会将函数库生成的压缩包发布到JCenter上面，这样第三方工程需要使用该函数库，只需要在build.gradle文件中加入一行代码即可，例如我的工程使用到EventBus，那么设置如下：

```
dependencies {
    compile 'de.greenrobot:eventbus:2.4.0'
}
```

那么问题来了，如果我自己开发了一个函数库，也要以这样的方式提供给第三方使用，那么就需要把这个项目发布到JCenter上面。

> 当然了，前提是你这个函数库是开源的或者是经过混淆的，否则就趁在被公司开除之前放弃这种想法，老老实实直接提供Jar包给第三方好了。

关于整个的发布流程，已经有很多不错的文章介绍了，建议看[Android Studio发布项目到Jcenter](http://blog.saymagic.cn/2015/02/16/release-library-to-jcenter.html)和[Android 项目打包到 JCenter 的坑](http://www.jianshu.com/p/c721f9297b2f?utm_campaign=hugo&utm_medium=reader_share&utm_content=note)这两篇文章就够了。

###JDK版本的降级

关于Android Studio使用的JDK版本是否需要从JDK7或者JDK8降级到JDK6，可以参见我之前写的一篇文章：[Mac下修改Android Studio 所用的JDK版本](http://www.jianshu.com/p/d8d1d72d0248)。















